steps:
     deploy:
          name: build_and_deploy_nokan
          image: docker:26-cli
          when:
               event: push
               branch: main
          commands:
               - echo "ğŸ³ Checking Docker daemon..."
               - docker version
               - echo "ğŸš€ Building nokan-taskboard Docker image..."
               - docker build -t nokan-taskboard:latest .
               - echo "ğŸ§¹ Removing old container if exists..."
               - docker rm -f nokan-taskboard || true
               - echo "â–¶ï¸ Starting new nokan-taskboard container..."
               - docker run -d --name nokan-taskboard -p 3000:3000 nokan-taskboard:latest
               - echo "âœ… nokan-taskboard deployed successfully!"
