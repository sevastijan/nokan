steps:
     deploy:
          image: docker:26-cli
          when:
               event: push
               branch: main
          commands:
               - docker version
               - echo "ğŸš€ Building Docker image..."
               - docker build -t my-next-app:latest .
               - echo "ğŸ§¹ Removing old container..."
               - docker rm -f my-next-app || true
               - echo "â–¶ï¸ Starting new container..."
               - docker run -d --name my-next-app -p 3000:3000 my-next-app:latest
